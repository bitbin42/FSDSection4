{"version":3,"sources":["context.js","Header.js","images/logo.gif","Navbar.js","Footer.js","Welcome.js","api.js","Logon.js","Products.js","EditProduct.js","Cart.js","NewOrder.js","SubmitOrder.js","Support.js","Orders.js","Categories.js","EditCategory.js","Users.js","EditUser.js","App.js","index.js"],"names":["Context","React","createContext","Consumer","GetCookie","name","value","cookies","document","cookie","split","i","length","cookieval","trim","decodeURIComponent","RetrieveUser","user","userID","userFirstName","userLastName","userEMail","userIsAdmin","accessToken","c","parseInt","reducer","state","action","type","info","encodeURIComponent","SaveUser","payload","Provider","props","dispatch","setState","this","children","Component","Header","className","src","alt","Navbar","isadmin","ufname","haveuser","href","Footer","Welcome","apiBaseURL","apiFetchOptions","body","accesstoken","Options","method","Headers","JSON","stringify","undefined","Logon","resp","context","getElementById","innerText","err","userPassword","options","fetch","then","r","json","completeLogon","catch","e","logonFailed","email","pw1","pw2","first","last","msg","completeRegistration","registrationFailed","id","required","width","onClick","x","doLogon","doRegister","contextType","Logoff","Products","token","catSelected","searchText","categoryresp","productresp","offset","pageSize","totalRecords","prevPage","nextPage","products","ps","ci","st","url","catid","getProducts","searchtext","newpage","cs","categories","getData","prodfrom","prodto","onChange","categorySelected","target","map","categoryID","categoryName","categoryIsActive","searchSelected","Array","isArray","p","product","productID","to","pathname","navigateList","Product","cartUpdated","item","quantity","alert","cartFailed","updateCart","qty","productName","productInfo","productCode","productPrice","toFixed","productIsActive","EditProduct","location","getProduct","checked","adding","Fragment","style","maxLength","defaultValue","defaultChecked","SaveProduct","havecats","haveproduct","NeedLogon","NotAdmin","NoCategories","NoProduct","Cart","newQuantity","cartitem","totals","getTotals","cost","display","cartresp","cart","getCart","updateditem","totalprod","totalqty","totalcost","prod","q","callback","CartItem","forceUpdate","productid","newqty","updatedquantity","updateItemQuantity","NewOrder","fromneworder","SubmitOrder","orderresp","os","placeOrder","orderID","fromcart","orderplaced","NotFromCart","NoOrder","OrderPlaced","Orders","status","ordersresp","orders","newStatus","getOrders","orderfrom","orderto","orderSelected","order","showOrders","Order","dt","date","format","months","Date","getDate","fdt","replace","getFullYear","getMonth","substring","hr","getHours","getMinutes","DateText","orderDate","orderStatus","Categories","catfrom","catto","category","ShowCategories","Category","categoryInfo","EditCategory","categoryCode","SaveCategory","havecategory","NoCategory","Users","userresp","users","us","userfrom","userto","u","haveusers","NoUsers","ShowUsers","User","userIsActive","EditUser","isactive","haveuserrec","isself","NoUser","NotSelf","App","path","exact","render","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.aeb32f0f.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nexport const Context=React.createContext();\r\nexport const Consumer = Context.Consumer;\r\n\r\nconst ClearUser = (user) => {\r\n  document.cookie='MMSU=;MaxAge=0;Path=/';\r\n  document.cookie='MMST=;MaxAge=0;Path=/';\r\n}\r\n\r\nconst SaveUser = (user) => {\r\n  const info=encodeURIComponent(user.userEMail)+'|'+encodeURIComponent(user.userFirstName)+'|'+encodeURIComponent(user.userLastName);\r\n  document.cookie='MMSU='+info+';Path=/';\r\n  document.cookie='MMST='+user.userID+'|'+user.userIsAdmin+'|'+encodeURIComponent(user.accessToken)+';Path=/';\r\n}\r\n\r\nfunction GetCookie(name) {\r\n  let value='';\r\n  const cookies = document.cookie.split(\";\");\r\n  for(var i = 0; i < cookies.length; i++) {\r\n    const cookieval = cookies[i].split(\"=\");\r\n    if(name === cookieval[0].trim()) {\r\n      value= decodeURIComponent(cookieval[1]);\r\n      }\r\n    }\r\n  return value;\r\n}\r\n\r\nconst RetrieveUser = () => {\r\n  const user={userID:null,userFirstName:null, userLastName:null, userEMail:null, userIsAdmin:'N', accessToken:null};\r\n  let c=GetCookie('MMSU');\r\n  if (c.length>0) {\r\n    c=c.split('|');\r\n    if (c.length===3) {\r\n      user.userFirstName=c[1];\r\n      user.userLastName=c[2];\r\n      user.userEMail=c[0];\r\n      c=GetCookie('MMST');\r\n      if (c.length>0) {\r\n        c=c.split('|');\r\n        if (c.length===3) {\r\n          user.userID=parseInt(c[0]);\r\n          user.userIsAdmin=c[1];\r\n          user.accessToken=c[2];\r\n          }\r\n        }\r\n      }\r\n    }\r\n  return user;\r\n}\r\n\r\nconst reducer = (state,action) => {\r\n  switch (action.type) {\r\n    case 'UPDATE_USER':\r\n      SaveUser(action.payload)\r\n      return {\r\n        ...state,\r\n        user: action.payload\r\n      }\r\n    case 'LOGOFF_USER':\r\n      ClearUser();\r\n      return {\r\n        ...state,\r\n        user:{userID:null,userFirstName:null, userLastName:null, userEMail:null, userIsAdmin:'N', accessToken:null}\r\n      }\r\n    default: {return state}\r\n  }\r\n}\r\n\r\nexport class Provider extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n        user:RetrieveUser(),\r\n        dispatch: action => this.setState(state => reducer(state,action))\r\n        }\r\n      }\r\n       \r\n  render() {\r\n    return (\r\n      <Context.Provider value={this.state}>\r\n        {this.props.children}\r\n      </Context.Provider>\r\n      )\r\n  }\r\n\r\n}\r\n\r\n","import React from \"react\";\r\nimport logo from './images/logo.gif'\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className=\"MainHeader\">\r\n      <img src={logo} className=\"MMMLogo\" alt=\"MMM\" />\r\n      <div className=\"HeaderText\">\r\n        <h1>Mumbai Medicine Mart</h1>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;","export default \"data:image/gif;base64,R0lGODlhMwAwAPcAAAAAAAAm/wcq9AUp+AQo+gcq+Akr8wgq9Agq9Qkr9ggq9wos8gos8wwt8Q4v8A0u8Qwu8hMz7hIy7xU07hU17xc27xg37Rk47Rs67Rs67hw77h887B087R897hAw8BAx8hIy8BEy8xEy9BM08xQ08Rg38SM92iU/2SU/2yE+7CA+7SZA2idB2ylD2ipD2ytE3DBJ3DFK3TVN3TdP3TZO3jpR3jtS3zxT3j1U3yNB7iRC7SdE7ilF7StI7ixI7TBM7jBM7zJO7zRP7zZQ6DVQ7zhT8DtV8D1X8T5Y8WpyoEFY4EFY4kVc4UZd4kde4kde40Fa7ERc7Elf40Ba8UFb8kNc8kJc9kVe8kpg40xi5E5k5U5k5kdg809n9lBl5VBl5lFm5lRp51Rq6FVr6Vds6Fhs6Flu6VFo8FJq91tw6ltw615y611x7F9z7Fpw9F51+192+2B07GB07WJ27mR47mV572h872Z68Gd9/2l98Gh88Wt+8m6B8m6B82+C82+C9HCD83GE9HOG9XSH9XSH9nWI93eK+HiL93mL+HiL+XqM+HqM+XuN+nyO+n2P+36Q+gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAzADAAAAj/AP8JHEiwoMGDCBMqXMiwocOHECM+DCSxIkMdARyYsTjHYsEqAUIG4BGxzYMAQTwOFCnygkNDE1gSUYmDpUiNCwvZDLnII5adIkkiVIMA6BaVAoCGxGCwEAOlAeSolCKyBAmbDgh2sZlAhMgeKgVeEDnEiM0FAoWwNCDGDcuwAtOIFPAPj01CY1gCEahCpBC4An+InCCQQ8gD/1iIzCCwg0jEgAUeEAlGIJIAMP6hCAChjsA/LJ9IrHHChJcwBduIbGAwydGBhkPOPGgoYYqdFpw8QvQPY0iXCSmwJESQUZsYEgLsNTgFakgVRFheQahTZBGBeho52LnHoHOoCD2I/yQA5UVypQgKDrI54ur3DQYrfAcao2Bzlh+snOkLnmCi+QXsRINBd2zHEhz/BHKHbzIV1AdQD4jxxT9o7JQSQgzKNtAgeSixQADAFfTGV1v8MVAhBtiUw0L3DfZIQYAkxMZrAznCn0ggeMZQgTYhaNFOR0SUYQCoRfTHUyztUFGLAdSQkCIHfWGTBiZaxKMPAm000CEBKBAAlgZNFhIVgOUhUExaDEQGS4IQVOQSMUwY2T8RhETHQEmJpMRAWgQgwZwEeUHZSiylAFtIMwAqEB8i3fmPDDtR9I9INij6zxoiySBQAzvhINAAIY1haR4iNSGQSCGIpMKpIa1gqRkixYrxT0whuXFSSDEKFkALljYhUhaThqTDPzZQ+k9sJ1jKaEhRMBhjsAHAJ9INlmIaUqohcTAQrQFcQUBIZFhqB1B2DJQFqiLxqmgZQBUElAuWMrHTnwRxsZOrii7LkhQG1cmSp4quyRIDB5lgk5aKihkSsAelWKqlAq3xzyDPIuTHRmlArPHGHHc8UEAAOw==\"","import React, {Component} from \"react\";\r\nimport {Consumer} from './context';\r\n//import { Link } from \"react-router-dom\";\r\n/*Products Users Categories Cart Logon*/\r\n\r\nclass Navbar extends Component {\r\n  \r\n  render() {\r\n    return (\r\n      <Consumer>\r\n        {value => {\r\n          const isadmin=(value.user.userIsAdmin==='Y');\r\n          const ufname=value.user.userFirstName;\r\n          // const ulname=value.userLastName;\r\n          const haveuser=(value.user.accessToken!==null);\r\n          return (\r\n            <nav className=\"navbar navbar-expand-sm\">\r\n            <div className='container'>\r\n              <ul className='navbar-nav mr-auto'>\r\n                <li className='nav-item'><a href='/' className='nav-link'>Home</a></li>\r\n                <li className='nav-item'><a href='/products' className='nav-link'>Products</a></li>\r\n                {isadmin?(<li className='nav-item'><a href='/categories' className='nav-link'>Categories</a></li>):''}\r\n                {isadmin?(<li className='nav-item'><a href='/users' className='nav-link'>Users</a></li>):''}\r\n                {haveuser?(<li className='nav-item'><a href='/logoff' className='nav-link'>Log off {ufname}</a></li>)\r\n                        :(<li className='nav-item'><a href='/logon' className='nav-link'>Log on</a></li>)}      \r\n                {haveuser?(<li className='nav-item'><a href='/cart' className='nav-link'>Cart</a></li>):''}       \r\n                {haveuser?(<li className='nav-item'><a href='/orders' className='nav-link'>Orders</a></li>):''}       \r\n              </ul>\r\n            </div>\r\n          </nav>\r\n          )\r\n        }}\r\n      </Consumer>\r\n      );\r\n    }\r\n  };\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className=\"Footer\">\r\n      Copyright &copy; 2021 ABC Healthcare Mumbai Medicine Mart \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;","import React, {Component} from \"react\";\r\n\r\nclass Welcome extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"MainBody\">\r\n        Welcome to the Mumbai Medicine Mart, a division of ABC Healthcare<br /><br />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Welcome;","export const apiBaseURL = 'http://localhost:5000/api';\r\n\r\nexport function apiFetchOptions(action,body,accesstoken) {\r\n  let Options={method:action};\r\n  let Headers={};\r\n  if (body!=null) {\r\n    Headers['Content-Type']='application/json';\r\n    Options['body']=JSON.stringify(body);\r\n    }\r\n  if (accesstoken!==null && accesstoken!==undefined && accesstoken.length > 0) {\r\n    Headers['Authorization']='Bearer '+accesstoken;\r\n    }\r\n  Options['headers']=Headers;\r\n  return Options;\r\n};\r\n\r\n","import React, {Component} from \"react\";\r\nimport {Context} from './context';\r\nimport {apiBaseURL,apiFetchOptions} from './api';\r\n\r\nexport class Logon extends Component {\r\n\r\n  static contextType = Context;\r\n\r\n  completeLogon(resp) {\r\n    this.context.dispatch({type:'UPDATE_USER',payload:resp});\r\n    document.getElementById('logonmessage').innerText='Welcome back '+resp.userFirstName+' '+resp.userLastName;\r\n    }\r\n  \r\n    logonFailed(err) {\r\n    document.getElementById('logonmessage').innerText='Logon failed';\r\n    }\r\n  \r\n    doLogon() {\r\n    const body={userEMail:document.getElementById('txtEMail').value,userPassword:document.getElementById('txtPW').value};\r\n    const url=apiBaseURL+'/authorize/login';\r\n    const options=apiFetchOptions('POST',body,null);\r\n    document.getElementById('logonmessage').innerText='Logging on...';\r\n    fetch(url,options).then(r => r.json()).then(r => this.completeLogon(r)).catch(e => this.logonFailed(e));\r\n    }\r\n  \r\n    completeRegistration(resp) {\r\n      this.context.dispatch({type:'UPDATE_USER',payload:resp});\r\n      document.getElementById('registermessage').innerText='Welcome '+resp.userFirstName+' '+resp.userLastName;\r\n      }\r\n    \r\n    registrationFailed(err) {\r\n      document.getElementById('registermessage').innerText='Registration failed';\r\n      }\r\n    \r\n    doRegister() {\r\n      const email=document.getElementById('txtNewEMail').value.trim();\r\n      const pw1=document.getElementById('txtNewPW').value.trim();\r\n      const pw2=document.getElementById('txtNewPW2').value.trim();\r\n      const first=document.getElementById('txtNewFN').value.trim();\r\n      const last=document.getElementById('txtNewLN').value.trim();\r\n      const msg=document.getElementById('registermessage');\r\n      if (email.length===0) {msg.innerText='An email address is required';}\r\n      else if (pw1.length===0) {msg.innerText='A password is required';}\r\n      else if (pw1!==pw2) {msg.innerText='The passwords do not match';}\r\n      else if (first.length===0 || last.length===0) {msg.innerText='First and Last name are required';}\r\n      else {\r\n        const body={userEMail:email,userPassword:pw1,userFirstName:first,userLastName:last};\r\n        const url=apiBaseURL+'/authorize/register';\r\n        const options=apiFetchOptions('POST',body,null);\r\n        msg.innerText='Registering...';\r\n        fetch(url,options).then(r => r.json()).then(r => this.completeRegistration(r)).catch(e => this.registrationFailed(e));\r\n        }\r\n      }\r\n    \r\n  render () {\r\n    return (\r\n      <div className=\"MainBody row\">\r\n        <div className=\"col-auto downright border\">\r\n          Returning users:<br />\r\n          EMail address: <input id='txtEMail' required={true} width={250} type='email' /><br />\r\n          Password: <input id='txtPW' required={true} width={250} type='password' /><br />\r\n          <button id='cmdLogon' onClick={(x) => this.doLogon()} className='ActionButton'>Log on</button><br /><br />\r\n          <span id='logonmessage' />\r\n        </div>\r\n        <div className=\"col-auto border\">\r\n          New users:<br />\r\n          EMail address: <input id='txtNewEMail' required={true} width={250} type='email' /><br />\r\n          Password: <input id='txtNewPW' required={true} width={250} type='password' /><br />\r\n          Confirm Password: <input id='txtNewPW2' required={true} width={250} type='password' /><br />\r\n          First Name: <input id='txtNewFN' required={true} width={250} type='text' /><br />\r\n          Last Name: <input id='txtNewLN' required={true} width={250} type='text' /><br />\r\n          <button id='cmdRegister' onClick={(x) => this.doRegister()} className='ActionButton'>Register</button><br /><br />\r\n          <span id='registermessage' />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport class Logoff extends Component {\r\n\r\n  static contextType = Context;\r\n\r\n  msg='Please log on to make purchases';\r\n\r\n  componentDidMount() {\r\n  if (this.context!==undefined && this.context.user!=null && this.context.user.accessToken!==null) {\r\n    this.context.dispatch({type:'LOGOFF_USER',payload:null});\r\n    this.msg='Come back soon!';\r\n    }\r\n  }\r\n \r\n  render () {\r\n    return (\r\n      <div className=\"MainBody\">\r\n        <span>{this.msg}</span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  }\r\n","import React, {Component} from \"react\";\r\nimport {Consumer, Context} from './context';\r\nimport {apiBaseURL,apiFetchOptions} from './api';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default class Products extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={token:null,\r\n      catSelected: 0,\r\n      searchText: '',\r\n      categoryresp:[],\r\n      productresp:{offset:0,pageSize:5,totalRecords:0,prevPage:null,nextPage:null,products:{}}};\r\n    }\r\n\r\n  static contextType = Context;\r\n  \r\n  getProducts() {\r\n  const options=apiFetchOptions('GET',null,this.state.token);\r\n  const ps=this.state.productresp.pageSize;\r\n  const ci=this.state.catSelected;\r\n  const st=this.state.searchText;\r\n  const url=apiBaseURL+'/products/list?offset=0&sort=name&pagesize='+ps+'&categoryid='+ci+'&Search='+encodeURIComponent(st);\r\n  fetch(url,options).then(r => r.json()).then(ps => this.setState({productresp:ps}));\r\n  }\r\n\r\n  categorySelected(catid) {\r\n  this.setState({catSelected:catid},() => this.getProducts());\r\n  }\r\n      \r\n  searchSelected(searchtext) {\r\n  this.setState({searchText:searchtext},() => this.getProducts());\r\n  }\r\n\r\n  navigateList(newpage) {\r\n  const options=apiFetchOptions('GET',null,this.state.token);\r\n  fetch(newpage,options).then(r => r.json()).then(ps => this.setState({productresp:ps}));\r\n  }\r\n\r\n  getData() {\r\n  let url=apiBaseURL+'/categories/list?pagesize=500&offset=0'; // note: if more than 500 then this will need to recurse\r\n  let options=apiFetchOptions('GET',null,this.state.token);\r\n  fetch(url,options).then(r => r.json()).then(cs => this.setState({categoryresp:cs.categories}));\r\n  this.getProducts();\r\n  }\r\n    \r\n  componentDidMount() {\r\n  const context = this.context;\r\n  this.setState({token:(context===undefined)?null:context.user.accessToken},\r\n    () => this.getData());\r\n  }\r\n\r\n  render() {\r\n      return (\r\n      <Consumer>\r\n        {value => {\r\n          const haveuser=(value.user.accessToken!==null);\r\n          const isadmin=(value.user.userIsAdmin==='Y');\r\n          let prodfrom=0;\r\n          let prodto=0;\r\n          if (this.state.productresp.totalRecords!==0) {\r\n            prodfrom=this.state.productresp.offset+1;\r\n            prodto=this.state.productresp.offset+this.state.productresp.products.length;  \r\n            }\r\n          return (\r\n            <div className=\"MainBody\">\r\n              <div className=\"container-fluid\">\r\n                Category: <select id='catselect' className='downright' onChange={(e) => this.categorySelected(e.target.value)}>\r\n                  <option value='0'>All</option>\r\n                  {this.state.categoryresp.map(c => <option key={c.categoryID} value={c.categoryID}>{c.categoryName}\r\n                            {(isadmin && c.categoryIsActive!=='Y')?' [inactive]':''}</option>)}\r\n                  </select>\r\n                Search: <input id='searchTarget' type='text' />\r\n                <button id='doSearch' className='downright'\r\n                  onClick={(e) => this.searchSelected(document.getElementById('searchTarget').value)}>Find</button>\r\n                Products {prodfrom} to {prodto} of {this.state.productresp.totalRecords}\r\n              </div>\r\n              <div className='container-fluid'>\r\n                {!Array.isArray(this.state.productresp.products)?null:\r\n                  this.state.productresp.products.map(p => {return <Product product={p} key={p.productID} />})}\r\n              </div>\r\n              <div className='container-fluid productbox'>\r\n                {haveuser?null:<Link to=\"/logon\"><button className='downright'>Log on</button></Link>}\r\n                {isadmin?<Link to={{pathname:'/editproduct',state:{id:0}}}><button className='downright'>Add Product</button></Link>:null}\r\n                {this.state.productresp.prevPage==null?null:\r\n                  <button id='backButton' className='downright' onClick={(e) => this.navigateList(this.state.productresp.prevPage)}>&lt;&lt; Back</button>}\r\n                {this.state.productresp.nextPage==null?null:\r\n                  <button id='nextButton' className='downright' onClick={(e) => this.navigateList(this.state.productresp.nextPage)}>&gt;&gt; Next</button>}\r\n              </div>\r\n            </div>\r\n            );\r\n          }\r\n        }\r\n      </Consumer>\r\n    );\r\n  }\r\n};\r\n\r\n// ====================================== Product\r\n\r\nexport class Product extends Component {\r\n\r\n  static contextType = Context;\r\n\r\n  cartUpdated = (item) => {\r\n    const q=item.quantity;\r\n    if (q===0) {alert('The item has been removed from the shopping cart');}\r\n    else {alert('The item has been added to the shooping cart');}\r\n  }\r\n\r\n  cartFailed = (err) => {\r\n    alert('Sorry, the shopping cart was not updated');\r\n  }\r\n\r\n  updateCart = (id,qty) => {\r\n    const body={\"productID\":id,\"quantity\":qty};\r\n    const url=apiBaseURL+'/cart';\r\n    const token=(this.context===undefined)?null:this.context.user.accessToken;\r\n    const options=apiFetchOptions('POST',body,token);\r\n    fetch(url,options).then(r => r.json()).then(r => this.cartUpdated(r)).catch(e => this.cartFailed(e));\r\n  }\r\n  \r\n  render() {\r\n      return (\r\n      <Consumer>\r\n        {value => {\r\n          const haveuser=(value.user.accessToken!==null);\r\n          const isadmin=(value.user.userIsAdmin==='Y');\r\n          return (\r\n            <div className=\"container-fluid productbox\">\r\n              <div className=\"boxed productnamebox\">\r\n                {this.props.product.productName} ({this.props.product.categoryName})<br />\r\n                {this.props.product.productInfo}<br />\r\n                {this.props.product.productCode} \r\n              </div>\r\n              <div className=\"boxed\">\r\n                ${this.props.product.productPrice.toFixed(2)}\r\n                {(haveuser===false || this.props.product.productIsActive!=='Y')?null:\r\n                  <span className='p-4'>\r\n                    <button id='cmdBuy' onClick={(e) => this.updateCart(this.props.product.productID,1)}>Purchase</button>\r\n                  </span>\r\n                }\r\n                </div>\r\n                {(isadmin===false)?null:\r\n                  <div className=\"boxed\">\r\n                    <Link to={{pathname:'/editproduct',state:{id:this.props.product.productID}}}><button>Edit</button></Link>\r\n                  </div>\r\n                  }\r\n            </div>\r\n            );\r\n          }\r\n        }\r\n      </Consumer>\r\n    );\r\n  }\r\n};\r\n","import React, {Component} from \"react\";\r\nimport {Context} from './context';\r\nimport {apiBaseURL,apiFetchOptions} from './api';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default class EditProduct extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const id=(this.props.location!==undefined && this.props.location.state!==undefined \r\n      && this.props.location.state.id!==undefined)?this.props.location.state.id:null;\r\n    this.state={token:null,\r\n      productID:id,\r\n      categoryresp:null,\r\n      productresp:null};\r\n    }\r\n\r\nstatic contextType = Context;\r\n\r\ngetProduct() {\r\nif (this.state.productID!=null && this.state.token!=null) {\r\n  if (this.state.productID===0) { // adding new product\r\n    const np={productID:0,productName:'',productInfo:'',productCode:'',productPrice:0,categoryID:1,productIsActive:\"Y\"}\r\n    this.setState({productresp:np});\r\n    }\r\n  else { // editing product\r\n    const options=apiFetchOptions('GET',null,this.state.token);\r\n    const url=apiBaseURL+'/products/'+this.state.productID;\r\n    fetch(url,options).then(r => r.json()).then(ps => this.setState({productresp:ps}));\r\n    }\r\n  }\r\n}\r\n\r\ngetData() {\r\nif (this.state.productID!=null && this.state.token!=null) {\r\n  let url=apiBaseURL+'/categories/list?pagesize=500&offset=0'; // note: if more than 500 then this will need to recurse\r\n  let options=apiFetchOptions('GET',null,this.state.token);\r\n  fetch(url,options).then(r => r.json()).then(cs => this.setState({categoryresp:cs.categories}));\r\n  this.getProduct();\r\n  }\r\n}\r\n\r\ncomponentDidMount() {\r\nthis.setState({token:(this.context===undefined)?null:this.context.user.accessToken},\r\n    () => this.getData());\r\n}\r\n\r\nSaveProduct() {\r\nconst body={productName:document.getElementById('prodname').value,productInfo:document.getElementById('prodinfo').value,\r\n      productCode:document.getElementById('prodcode').value, productPrice:document.getElementById('prodcost').value,\r\n      categoryID:document.getElementById('prodcat').value, productIsActive:(document.getElementById('prodok').checked?\"Y\":\"N\")};\r\nconst adding=(this.state.productresp.productID===0);\r\nconst options=apiFetchOptions(adding?'POST':'PATCH',body,this.state.token);\r\nconst url=apiBaseURL+'/products'+(adding?'':'/'+this.state.productresp.productID);\r\nfetch(url,options).then(r => r.json()).then(ps => this.setState({productresp:ps},() => alert('Product updated')))\r\n  .catch(err => alert('Unable to save product'));\r\n}\r\n\r\nNeedLogon() {return <Link to='/logon'><button className='action'>Log On</button></Link>}\r\nNotAdmin() {return 'Access denied'}\r\nNoProduct() {return 'No product selected'}\r\nNoCategories() {return 'No categories found'}\r\n\r\nEditProduct() {\r\n  return (\r\n  <React.Fragment>\r\n    Product Name: <input id='prodname' type='text' style={{width:\"300px\"}} maxLength='64' defaultValue={this.state.productresp.productName} /><br />\r\n    Category: <select id='prodcat' defaultValue={this.state.productresp.categoryID}>\r\n      {this.state.categoryresp.map(c => <option key={c.categoryID} value={c.categoryID}>{c.categoryName}</option>)}\r\n    </select><br />\r\n    Code: <input id='prodcode' type='text' style={{width:\"350px\"}} maxLength='64' defaultValue={this.state.productresp.productCode} /><br />\r\n    Info: <input id='prodinfo' type='text' style={{width:\"350px\"}} maxLength='512' defaultValue={this.state.productresp.productInfo} /><br />\r\n    Price: <input id='prodcost' type='number' style={{width:\"100px\"}} defaultValue={this.state.productresp.productPrice} /><br />\r\n    Active: <input id='prodok' type='checkbox' defaultChecked={this.state.productresp.productIsActive==='Y'} /><br />\r\n    <button className='Action' onClick={(e) => this.SaveProduct()}>Save</button>\r\n  </React.Fragment>\r\n  )\r\n}\r\n\r\nrender() {\r\n  const haveuser=(this.state.token!=null);\r\n  const isadmin=(this.context.user!==undefined && this.context.user.userIsAdmin==='Y');\r\n  const havecats=(this.state.categoryresp!=null);\r\n  const haveproduct=(this.state.productresp!=null);\r\n  return (\r\n    <div className=\"MainBody\">\r\n      {(haveuser===false)?this.NeedLogon():\r\n        (isadmin===false)?this.NotAdmin():\r\n          (havecats===false)?this.NoCategories():\r\n            (haveproduct===false)?this.NoProduct():\r\n              this.EditProduct()\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\n}","import React, {Component} from \"react\";\r\nimport {Consumer, Context} from './context';\r\nimport {apiBaseURL,apiFetchOptions} from './api';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default class Cart extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={token:null,\r\n      cartresp:{cart:{}}};\r\n      }\r\n\r\n  static contextType = Context;\r\n  \r\n  getCart() {\r\n  const options=apiFetchOptions('GET',null,this.state.token);\r\n  const url=apiBaseURL+'/cart';\r\n  fetch(url,options).then(r => r.json()).then(cs => this.setState({cartresp:cs}));\r\n  }\r\n\r\n  componentDidMount() {\r\n   this.setState({token:(this.context===undefined)?null:this.context.user.accessToken},\r\n    () => this.getCart());\r\n  }\r\n\r\n  getTotals(updateditem) {\r\n    let totalprod=0;\r\n    let totalqty=0;\r\n    let totalcost=0;\r\n    if(this.state.cartresp!==undefined && this.state.cartresp.cart!==null && Array.isArray(this.state.cartresp.cart)) {\r\n      const cart=this.state.cartresp.cart;\r\n      for (var i in cart) {\r\n        if (updateditem!==null && updateditem.prod===cart[i].productID) {cart[i].quantity=updateditem.quantity;}\r\n        let q=cart[i].quantity;\r\n        let p=cart[i].productPrice;\r\n        if (cart[i].quantity>0) {totalprod++;}\r\n        totalqty+=q;\r\n        totalcost+=p*q;\r\n        }\r\n      }\r\n  return {products:totalprod,quantity:totalqty,cost:totalcost};\r\n  }\r\n\r\n  newQuantity = (cartitem) => {  // avoid re-rendering everything\r\n  const totals=this.getTotals(cartitem);\r\n  document.getElementById('totalprod').innerText=totals.products;\r\n  document.getElementById('totalqty').innerText=totals.quantity;\r\n  document.getElementById('totalcost').innerText=totals.cost.toFixed(2);\r\n  document.getElementById('orderbutton').style.display=(totals.quantity>0)?\"block\":\"none\";\r\n  }\r\n\r\n  render() {\r\n      const totals=this.getTotals(null);\r\n      return (\r\n      <Consumer>\r\n        {value => {\r\n          const haveuser=(value.user.accessToken!==null);\r\n          return (\r\n            <div className=\"MainBody\">\r\n              {haveuser?(\r\n                <div className='container-fluid'>\r\n                  {!Array.isArray(this.state.cartresp.cart)?null:\r\n                    <React.Fragment>\r\n                      <table className='table'>\r\n                        <thead><tr><th>Product</th><th>Quantity</th><th>Price</th><th>Total</th></tr></thead><tbody>\r\n                        {this.state.cartresp.cart.map(c => {return <CartItem\r\n                           token={this.state.token} item={c} key={c.productID} callback={this.newQuantity} />\r\n                          })}\r\n                      </tbody></table>\r\n                      <div className='container-fluid row'>\r\n                        <div className='col-auto'>\r\n                          Products: <span id='totalprod'>{totals.products}</span><br />\r\n                          Quantity: <span id='totalqty'>{totals.quantity}</span><br />\r\n                          Total: $<span id='totalcost'>{totals.cost}</span>\r\n                        </div>\r\n                        {totals.quantity<1?null:\r\n                          <div id='orderbutton' style={{display:\"block\"}} className='col-auto'>\r\n                            <Link to='/neworder'><button className='action'>Place order</button></Link>\r\n                          </div>\r\n                        }\r\n                      </div>\r\n                    </React.Fragment>\r\n                  }\r\n                </div>\r\n              ):(\r\n                <Link to='/logon'><button id='cmdLogon' className='action'>Log On</button></Link>\r\n              )}\r\n            </div>\r\n            );\r\n          }\r\n        }\r\n      </Consumer>\r\n    );\r\n  }\r\n};\r\n\r\n\r\n// ====================================== Items\r\n\r\nexport class CartItem extends Component {\r\n\r\n  static contextType = Context;\r\n\r\n  updatedquantity(cartitem) {\r\n  this.props.item.quantity=cartitem.quantity;\r\n  this.forceUpdate();\r\n  this.props.callback(cartitem);\r\n  }\r\n\r\n  updateItemQuantity(productid,newqty) {\r\n  const body={productID:productid,quantity:newqty};\r\n  const options=apiFetchOptions('POST',body,this.props.token);\r\n  const url=apiBaseURL+'/cart';\r\n  fetch(url,options).then(r => r.json()).then(cs => this.updatedquantity(cs))\r\n    .catch(err => alert('Unable to update shopping cart'));\r\n  }\r\n\r\n  render() {\r\n      const q=this.props.item.quantity;\r\n      const p=this.props.item.productPrice;\r\n      return (\r\n      <Consumer>\r\n        {value => {\r\n          return (\r\n            <React.Fragment>\r\n              <tr><td>\r\n                {this.props.item.productName} ({this.props.item.categoryName})<br />\r\n                {this.props.item.productCode} \r\n              </td><td><select value={q} onChange={(e) => this.updateItemQuantity(this.props.item.productID,e.target.value)}>\r\n                        <option value='0'>0</option>\r\n                        <option value='1'>1</option>\r\n                        <option value='2'>2</option>\r\n                        <option value='3'>3</option>\r\n                        <option value='4'>4</option>\r\n                        <option value='5'>5</option>\r\n                       </select>\r\n              </td><td>\r\n                ${p.toFixed(2)}\r\n              </td><td>\r\n                ${(p*q).toFixed(2)}              \r\n              </td></tr>\r\n            </React.Fragment>\r\n            );\r\n          }\r\n        }\r\n      </Consumer>\r\n    );\r\n  }\r\n};\r\n","import React, {Component} from \"react\";\r\nimport {Consumer, Context} from './context';\r\nimport {apiBaseURL,apiFetchOptions} from './api';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default class NewOrder extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={token:null,\r\n      cartresp:{cart:{}}};\r\n      }\r\n\r\n  static contextType = Context;\r\n  \r\n  getCart() {\r\n  const options=apiFetchOptions('GET',null,this.state.token);\r\n  const url=apiBaseURL+'/cart';\r\n  fetch(url,options).then(r => r.json()).then(cs => this.setState({cartresp:cs}));\r\n  }\r\n\r\n  componentDidMount() {\r\n   this.setState({token:(this.context===undefined)?null:this.context.user.accessToken},\r\n    () => this.getCart());\r\n  }\r\n\r\n  getTotals(updateditem) {\r\n    let totalprod=0;\r\n    let totalqty=0;\r\n    let totalcost=0;\r\n    if(this.state.cartresp!==undefined && this.state.cartresp.cart!==null && Array.isArray(this.state.cartresp.cart)) {\r\n      const cart=this.state.cartresp.cart;\r\n      for (var i in cart) {\r\n        if (updateditem!==null && updateditem.prod===cart[i].productID) {cart[i].quantity=updateditem.quantity;}\r\n        let q=cart[i].quantity;\r\n        let p=cart[i].productPrice;\r\n        if (cart[i].quantity>0) {totalprod++;}\r\n        totalqty+=q;\r\n        totalcost+=p*q;\r\n        }\r\n      }\r\n  return {products:totalprod,quantity:totalqty,cost:totalcost};\r\n  }\r\n\r\n  render() {\r\n      const totals=this.getTotals(null);\r\n      return (\r\n      <Consumer>\r\n        {value => {\r\n          const haveuser=(value.user.accessToken!==null);\r\n          return (\r\n            <div className=\"MainBody\">\r\n              {haveuser?(\r\n                <div className='container-fluid'>\r\n                  {!Array.isArray(this.state.cartresp.cart)?null:\r\n                    <React.Fragment>\r\n                      <div className='container-fluid row'>\r\n                        <div className='container-fluid'>\r\n                          This is where we'd validate payment info and shipping address...\r\n                        </div>\r\n                        <div className='col-auto'>\r\n                          Products: <span id='totalprod'>{totals.products}</span><br />\r\n                          Quantity: <span id='totalqty'>{totals.quantity}</span><br />\r\n                          Total: $<span id='totalcost'>{totals.cost}</span>\r\n                        </div>\r\n                        {totals.quantity<1?null:\r\n                          <div id='orderbutton' style={{display:\"block\"}} className='col-auto'>\r\n                            <Link to={{pathname:'/submitorder',state:{fromneworder:'fno'}}}><button className='action'>Submit</button></Link>\r\n                          </div>\r\n                        }\r\n                      </div>\r\n                    </React.Fragment>\r\n                  }\r\n                </div>\r\n              ):(\r\n                <Link to='/logon'><button id='cmdLogon' className='action'>Log On</button></Link>\r\n              )}\r\n            </div>\r\n            );\r\n          }\r\n        }\r\n      </Consumer>\r\n    );\r\n  }\r\n};\r\n\r\n\r\n","import React, {Component} from \"react\";\r\nimport {Consumer, Context} from './context';\r\nimport {apiBaseURL,apiFetchOptions} from './api';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default class SubmitOrder extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={token:null,orderresp:null}\r\n    this.fromneworder=(this.props.location!==undefined && this.props.location.state!==undefined \r\n          && this.props.location.state.fromneworder==='fno');\r\n  }\r\n  \r\n  static contextType=Context;\r\n  fromneworder=false;\r\n\r\n  placeOrder() {\r\n  if (this.fromneworder===true && this.state.token!==null) {\r\n    const options=apiFetchOptions('GET',null,this.state.token);\r\n    const url=apiBaseURL+'/cart/submit ';\r\n    fetch(url,options).then(r => r.json()).then(os => this.setState({orderresp:os}))\r\n      .catch(err => alert('Unable to submit order'));\r\n    } \r\n  }\r\n  \r\n  componentDidMount() {\r\n  this.setState({token:(this.context===undefined)?null:this.context.user.accessToken},\r\n      () => this.placeOrder());\r\n  }\r\n  \r\n  NeedLogon() {return <Link to='/logon'><button className='action'>Log On</button></Link>}\r\n  NotFromCart() {return <span>Please review the shopping cart first<br /><Link to='/cart'><button className='action'>Cart</button></Link></span>}\r\n  NoOrder() {return <Link to='/products'><button className='action'>No order placed</button></Link>}\r\n  OrderPlaced() {return <span>Thank you for your custom.  Your order number is: {this.state.orderresp.orderID}</span>}\r\n  \r\n  render() {\r\n    return (\r\n    <Consumer>\r\n      {value => {\r\n        const haveuser=(value.user.accessToken!==null);\r\n        const fromcart=(this.fromneworder===true);\r\n        const orderplaced=(this.state.orderresp!==null && this.state.orderresp.orderID!==null);\r\n        return (\r\n          <div className=\"MainBody\">\r\n            {(haveuser===false)?this.NeedLogon():\r\n              ((fromcart===false)?this.NotFromCart():\r\n              ((orderplaced===false)?this.NoOrder():\r\n                this.OrderPlaced()))\r\n              }\r\n          </div>\r\n        );\r\n      }}\r\n    </Consumer>\r\n  );\r\n  }\r\n  \r\n  }\r\n  \r\n  ","//import React from \"react\";\r\n\r\nexport const DateText = (date,format) => {\r\n  const months=['January','February','March','April','May','June','July','August','September','October','November','December']\r\n  const dt=new Date(date);\r\n  let x=dt.getDate();\r\n  let fdt=format.replace('d',x);\r\n  fdt=fdt.replace('yyyy',dt.getFullYear());\r\n  fdt=fdt.replace('MMMM',months[dt.getMonth()]);\r\n  fdt=fdt.replace('MMM',months[dt.getMonth()].substring(0,3));\r\n  let hr=dt.getHours();\r\n  fdt=fdt.replace('H',hr);\r\n  x=(hr<12)?\"AM\":\"PM\";\r\n  fdt=fdt.replace('@',x);\r\n  if (hr>12) hr-=12;\r\n  fdt=fdt.replace('h',hr);\r\n  x=dt.getMinutes();\r\n  if (x===0) x=12;\r\n  if (x<10) x='0'+x;\r\n  fdt=fdt.replace('mm',x);\r\n  return fdt;\r\n};\r\n\r\n","import React, {Component} from \"react\";\r\nimport {Consumer, Context} from './context';\r\nimport {apiBaseURL,apiFetchOptions} from './api';\r\nimport {DateText} from './Support'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default class Orders extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={token:null,\r\n      status:'all',\r\n      ordersresp:{offset:0,pageSize:5,totalRecords:0,prevPage:null,nextPage:null,orders:{}}};\r\n    }\r\n\r\n  static contextType = Context;\r\n  \r\n  getOrders() {\r\n  const options=apiFetchOptions('GET',null,this.state.token);\r\n  const ps=this.state.ordersresp.pageSize;\r\n  const os=document.getElementById('selectstatus').value;\r\n  const url=apiBaseURL+'/orders?offset=0&pagesize='+ps+((os==='all')?'':'&status='+os);\r\n  fetch(url,options).then(r => r.json()).then(os => this.setState({ordersresp:os}));\r\n  }\r\n\r\n  statusSelected(newStatus) {\r\n  this.setState({status:newStatus},() => this.getOrders());\r\n  }\r\n      \r\n  navigateList(newpage) {\r\n  const options=apiFetchOptions('GET',null,this.state.token);\r\n  fetch(newpage,options).then(r => r.json()).then(os => this.setState({ordersresp:os}));\r\n  }\r\n    \r\n  componentDidMount() {\r\n  const context = this.context;\r\n  this.setState({token:(context===undefined)?null:context.user.accessToken},\r\n    () => this.getOrders());\r\n  }\r\n\r\n  showOrders() {\r\n    let orderfrom=0;\r\n    let orderto=0;\r\n    if (this.state.ordersresp.totalRecords!==0) {\r\n      orderfrom=this.state.ordersresp.offset+1;\r\n      orderto=this.state.ordersresp.offset+this.state.ordersresp.orders.length;  \r\n      }\r\n    return (\r\n      <div className=\"MainBody\">\r\n        <div className=\"container-fluid\">\r\n          Order status: <select id='selectstatus' className='downright' onChange={(e) => this.orderSelected(e.target.value)}>\r\n          <option value='all'>All</option>\r\n          <option value='processing'>Processing</option>\r\n          <option value='shipped'>Shipped</option>\r\n          <option value='complete'>Complete</option>\r\n          <option value='cancelled'>Cancelled</option>\r\n            </select>\r\n          Orders {orderfrom} to {orderto} of {this.state.ordersresp.totalRecords}\r\n        </div>\r\n        <div className='container-fluid'>\r\n          {!Array.isArray(this.state.ordersresp.orders)?null:\r\n            <table className='table'><thead><tr><th>Order</th><th>Status</th><th>Date</th></tr></thead><tbody>\r\n            {this.state.ordersresp.orders.map(p => {return <Order order={p} key={p.orderID} />})}\r\n            </tbody></table>\r\n            }\r\n        </div>\r\n        <div className='container-fluid productbox'>\r\n          {this.state.ordersresp.prevPage==null?null:\r\n            <button id='backButton' className='downright' onClick={(e) => this.navigateList(this.state.ordersresp.prevPage)}>&lt;&lt; Back</button>}\r\n          {this.state.ordersresp.nextPage==null?null:\r\n            <button id='nextButton' className='downright' onClick={(e) => this.navigateList(this.state.ordersresp.nextPage)}>&gt;&gt; Next</button>}\r\n        </div>\r\n      </div>\r\n      );\r\n  }\r\n\r\n  render() {\r\n      return (\r\n      <Consumer>\r\n        {value => {\r\n          const haveuser=(value.user.accessToken!==null);\r\n          return (\r\n            (haveuser===false)?(\r\n              <Link to='/logon'><button className='action'>Log on</button></Link>\r\n            ):this.showOrders()\r\n          );\r\n        }}\r\n      </Consumer>\r\n    );\r\n  }\r\n};\r\n\r\n// ====================================== Order item\r\n\r\nexport class Order extends Component {\r\n\r\n  static contextType = Context;\r\n\r\n  render() {\r\n    const dt=DateText(this.props.order.orderDate,'MMM d, yyyy h:mm@');\r\n    return (\r\n      <Consumer>\r\n        {value => {\r\n          return (\r\n            <React.Fragment>\r\n              <tr><td>{this.props.order.orderID}</td><td>{this.props.order.orderStatus}</td><td>{dt}</td></tr>\r\n            </React.Fragment>\r\n            );\r\n          }\r\n        }\r\n      </Consumer>\r\n    );\r\n  }\r\n};\r\n","import React, {Component} from \"react\";\r\nimport {Consumer, Context} from './context';\r\nimport {apiBaseURL,apiFetchOptions} from './api';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default class Categories extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={token:null,\r\n      categoryresp:{offset:0,pageSize:5,totalRecords:0,prevPage:null,nextPage:null,categories:{}}};\r\n    }\r\n\r\n  static contextType = Context;\r\n  \r\n  navigateList(newpage) {\r\n  const options=apiFetchOptions('GET',null,this.state.token);\r\n  fetch(newpage,options).then(r => r.json()).then(cs => this.setState({categoryresp:cs}));\r\n  }\r\n\r\n  getData() {\r\n  if (this.state.token!=null) {\r\n    const ps=this.state.categoryresp.pageSize;\r\n    const url=apiBaseURL+'/categories/list?offset=0&sort=name&pagesize='+ps;\r\n    let options=apiFetchOptions('GET',null,this.state.token);\r\n    fetch(url,options).then(r => r.json()).then(cs => this.setState({categoryresp:cs}));\r\n    }\r\n  }\r\n    \r\n  componentDidMount() {\r\n  const context = this.context;\r\n  this.setState({token:(context===undefined)?null:context.user.accessToken},\r\n    () => this.getData());\r\n  }\r\n\r\nNeedLogon() {return <Link to='/logon'><button className='action'>Log On</button></Link>}\r\nNotAdmin() {return 'Access denied'}\r\nNoCategories() {return 'No categories found'}\r\n\r\nShowCategories(isadmin) {\r\nlet catfrom=0;\r\nlet catto=0;\r\nif (this.state.categoryresp.totalRecords!==0) {\r\n  catfrom=this.state.categoryresp.offset+1;\r\n  catto=this.state.categoryresp.offset+this.state.categoryresp.categories.length;  \r\n  }\r\nreturn (\r\n  <React.Fragment>\r\n    <div className=\"container-fluid\">\r\n      Categories {catfrom} to {catto} of {this.state.categoryresp.totalRecords}\r\n    </div>\r\n    <div className='container-fluid'>\r\n      {!Array.isArray(this.state.categoryresp.categories)?null:\r\n        this.state.categoryresp.categories.map(p => {return <Category category={p} key={p.categoryID} />})}\r\n    </div>\r\n    <div className='container-fluid productbox'>\r\n      {isadmin?<Link to={{pathname:'/editcategory',state:{id:0}}}><button className='downright'>Add category</button></Link>:null}\r\n      {this.state.categoryresp.prevPage==null?null:\r\n        <button id='backButton' className='downright' onClick={(e) => this.navigateList(this.state.categoryresp.prevPage)}>&lt;&lt; Back</button>}\r\n      {this.state.categoryresp.nextPage==null?null:\r\n        <button id='nextButton' className='downright' onClick={(e) => this.navigateList(this.state.categoryresp.nextPage)}>&gt;&gt; Next</button>}\r\n    </div>\r\n  </React.Fragment>\r\n  );\r\n}\r\n\r\nrender() {\r\n      return (\r\n      <Consumer>\r\n        {value => {\r\n          const haveuser=(value.user.accessToken!==null);\r\n          const isadmin=(value.user.userIsAdmin==='Y');\r\n          const havecats=(this.state.categoryresp.totalRecords>0);\r\n          return (\r\n            <div className=\"MainBody\">\r\n              {(haveuser===false)?this.NeedLogon():\r\n                (isadmin===false)?this.NotAdmin():\r\n                  (havecats===false)?this.NoCategories():\r\n                      this.ShowCategories(isadmin)\r\n              } \r\n            </div>\r\n            )\r\n          }\r\n        }\r\n      </Consumer>\r\n    );\r\n  }\r\n};\r\n\r\n// ====================================== category\r\n\r\nexport class Category extends Component {\r\n\r\n  static contextType = Context;\r\n\r\n  render() {\r\n      return (\r\n      <Consumer>\r\n        {value => {\r\n          const isadmin=(value.user.userIsAdmin==='Y');\r\n          return (\r\n            <div className=\"container-fluid productbox\">\r\n              <div className=\"boxed productnamebox\">\r\n                {this.props.category.categoryName} [{(this.props.category.categoryIsActive===\"Y\")?\"Active\":\"Inactive\"}]<br />\r\n                {this.props.category.categoryInfo}\r\n              </div>\r\n                {(isadmin===false)?null:\r\n                  <div className=\"boxed\">\r\n                    <Link to={{pathname:'/editcategory',state:{id:this.props.category.categoryID}}}><button>Edit</button></Link>\r\n                  </div>\r\n                  }\r\n            </div>\r\n            );\r\n          }\r\n        }\r\n      </Consumer>\r\n    );\r\n  }\r\n};\r\n","import React, {Component} from \"react\";\r\nimport {Context} from './context';\r\nimport {apiBaseURL,apiFetchOptions} from './api';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default class EditCategory extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const id=(this.props.location!==undefined && this.props.location.state!==undefined \r\n      && this.props.location.state.id!==undefined)?this.props.location.state.id:null;\r\n    this.state={token:null,\r\n      categoryID:id,\r\n      categoryresp:null};\r\n    }\r\n\r\nstatic contextType = Context;\r\n\r\ngetData() {\r\nif (this.state.categoryID!=null && this.state.token!=null) {\r\n  if (this.state.categoryID===0) { // adding new category\r\n    const nc={categoryID:0,categoryName:'',categoryInfo:'',categoryCode:'',categoryIsActive:\"Y\"}\r\n    this.setState({categoryresp:nc});\r\n    }\r\n  else { // editing category\r\n    const options=apiFetchOptions('GET',null,this.state.token);\r\n    const url=apiBaseURL+'/categories/'+this.state.categoryID;\r\n    fetch(url,options).then(r => r.json()).then(cs => this.setState({categoryresp:cs}));\r\n    }\r\n  }\r\n}\r\n\r\ncomponentDidMount() {\r\nthis.setState({token:(this.context===undefined)?null:this.context.user.accessToken},\r\n    () => this.getData());\r\n}\r\n\r\nSaveCategory() {\r\nconst body={categoryName:document.getElementById('catname').value,categoryInfo:document.getElementById('catinfo').value,\r\n      categoryIsActive:(document.getElementById('catok').checked?\"Y\":\"N\")};\r\nconst adding=(this.state.categoryresp.categoryID===0);\r\nconst options=apiFetchOptions(adding?'POST':'PATCH',body,this.state.token);\r\nconst url=apiBaseURL+'/categories'+(adding?'':'/'+this.state.categoryresp.categoryID);\r\nfetch(url,options).then(r => r.json()).then(ps => this.setState({categoryresp:ps},() => alert('Category updated')))\r\n  .catch(err => alert('Unable to save category'));\r\n}\r\n\r\nNeedLogon() {return <Link to='/logon'><button className='action'>Log On</button></Link>}\r\nNotAdmin() {return 'Access denied'}\r\nNoCategory() {return 'No category selected'}\r\n\r\nEditCategory() {\r\n  return (\r\n  <React.Fragment>\r\n    Category Name: <input id='catname' type='text' style={{width:\"300px\"}} maxLength='64' defaultValue={this.state.categoryresp.categoryName} /><br />\r\n    Info: <input id='catinfo' type='text' style={{width:\"350px\"}} maxLength='512' defaultValue={this.state.categoryresp.categoryInfo} /><br />\r\n    Active: <input id='catok' type='checkbox' defaultChecked={this.state.categoryresp.categoryIsActive==='Y'} /><br />\r\n    <button className='Action' onClick={(e) => this.SaveCategory()}>Save</button>\r\n  </React.Fragment>\r\n  )\r\n}\r\n\r\nrender() {\r\n  const haveuser=(this.state.token!=null);\r\n  const isadmin=(this.context.user!==undefined && this.context.user.userIsAdmin==='Y');\r\n  const havecategory=(this.state.categoryresp!=null);\r\n  return (\r\n    <div className=\"MainBody\">\r\n      {(haveuser===false)?this.NeedLogon():\r\n        (isadmin===false)?this.NotAdmin():\r\n            (havecategory===false)?this.NoCategory():\r\n              this.EditCategory()\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\n}","import React, {Component} from \"react\";\r\nimport {Context} from './context';\r\nimport {apiBaseURL,apiFetchOptions} from './api';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default class Users extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={token:null,\r\n      searchText: '',\r\n      userresp:{offset:0,pageSize:5,totalRecords:0,prevPage:null,nextPage:null,users:{}}};\r\n    }\r\n\r\n  static contextType = Context;\r\n  \r\n  getData() {\r\n  const options=apiFetchOptions('GET',null,this.state.token);\r\n  const ps=this.state.userresp.pageSize;\r\n  const st=this.state.searchText;\r\n  const url=apiBaseURL+'/users/list?offset=0&sort=name&pagesize='+ps+'&search='+encodeURIComponent(st);\r\n  fetch(url,options).then(r => r.json()).then(us => this.setState({userresp:us}));\r\n  }\r\n      \r\n  searchSelected(searchtext) {\r\n  this.setState({searchText:searchtext},() => this.getData());\r\n  }\r\n\r\n  navigateList(newpage) {\r\n  const options=apiFetchOptions('GET',null,this.state.token);\r\n  fetch(newpage,options).then(r => r.json()).then(us => this.setState({userresp:us}));\r\n  }\r\n    \r\n  componentDidMount() {\r\n  const context = this.context;\r\n  this.setState({token:(context===undefined)?null:context.user.accessToken},\r\n    () => this.getData());\r\n  }\r\n\r\nNeedLogon() {return <Link to='/logon'><button className='action'>Log On</button></Link>}\r\nNotAdmin() {return 'Access denied'}\r\nNoUsers() {return 'No users found'}\r\n\r\nShowUsers(isadmin) {\r\n  let userfrom=0;\r\n  let userto=0;\r\n  if (this.state.userresp.totalRecords!==0) {\r\n    userfrom=this.state.userresp.offset+1;\r\n    userto=this.state.userresp.offset+this.state.userresp.users.length;  \r\n    }\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"container-fluid\">\r\n        Search: <input id='searchTarget' type='text' />\r\n        <button id='doSearch' className='downright'\r\n          onClick={(e) => this.searchSelected(document.getElementById('searchTarget').value)}>Find</button>\r\n        Users {userfrom} to {userto} of {this.state.userresp.totalRecords}\r\n      </div>\r\n      <div className='container-fluid'>\r\n        {!Array.isArray(this.state.userresp.users)?null:\r\n          this.state.userresp.users.map(u=> {return <User user={u} key={u.userID} />})}\r\n      </div>\r\n      <div className='container-fluid productbox'>\r\n        <Link to={{pathname:'/edituser',state:{id:0}}}><button className='downright'>Add User</button></Link>\r\n        {this.state.userresp.prevPage==null?null:\r\n          <button id='backButton' className='downright' onClick={(e) => this.navigateList(this.state.userresp.prevPage)}>&lt;&lt; Back</button>}\r\n        {this.state.userresp.nextPage==null?null:\r\n          <button id='nextButton' className='downright' onClick={(e) => this.navigateList(this.state.userresp.nextPage)}>&gt;&gt; Next</button>}\r\n      </div>\r\n    </React.Fragment>\r\n    );\r\n}\r\n\r\n\r\nrender() {\r\n  const haveuser=(this.state.token!=null);\r\n  const isadmin=(this.context.user!==undefined && this.context.user.userIsAdmin==='Y');\r\n  const haveusers=(this.state.userresp!=null && this.state.userresp.totalRecords>0);\r\n  return (\r\n    <div className=\"MainBody\">\r\n      {(haveuser===false)?this.NeedLogon():\r\n        (isadmin===false)?this.NotAdmin():\r\n          (haveusers===false)?this.NoUsers():\r\n            this.ShowUsers()\r\n      }\r\n    </div>\r\n  );\r\n}\r\n  \r\n}\r\n\r\n// ====================================== User\r\n\r\nexport class User extends Component {\r\n\r\n  static contextType = Context;\r\n  \r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid productbox\">\r\n        <div className=\"boxed usernamebox\">\r\n          {this.props.user.userEMail} [{(this.props.user.userIsActive===\"Y\")?\"Active\":\"Inactive\"} {(this.props.user.userIsAdmin===\"Y\")?\"Admin\":\"User\"}]<br />\r\n          {this.props.user.userLastName},({this.props.user.userFirstName})<br /> \r\n        </div>\r\n        <div className=\"boxed\">\r\n          <Link to={{pathname:'/edituser',state:{id:this.props.user.userID}}}><button>Edit</button></Link>\r\n        </div>\r\n      </div>\r\n      );\r\n    }\r\n}\r\n","import React, {Component} from \"react\";\r\nimport {Context} from './context';\r\nimport {apiBaseURL,apiFetchOptions} from './api';\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default class EditUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const id=(this.props.location!==undefined && this.props.location.state!==undefined \r\n      && this.props.location.state.id!==undefined)?this.props.location.state.id:null;\r\n    this.state={token:null,\r\n      userID:id,\r\n      userresp:null};\r\n    }\r\n\r\nstatic contextType = Context;\r\n\r\ngetData() {\r\nif (this.state.userID!=null && this.state.token!=null) {\r\n  if (this.state.userID===0) { // adding new User\r\n    const nc={userID:0,userFirstName:'',userLastName:'',userEMail:'',userIsActive:\"Y\"}\r\n    this.setState({userresp:nc});\r\n    }\r\n  else { // editing User\r\n    const options=apiFetchOptions('GET',null,this.state.token);\r\n    const url=apiBaseURL+'/users/'+this.state.userID;\r\n    fetch(url,options).then(r => r.json()).then(us => this.setState({userresp:us}));\r\n    }\r\n  }\r\n}\r\n\r\ncomponentDidMount() {\r\nthis.setState({token:(this.context===undefined)?null:this.context.user.accessToken},\r\n    () => this.getData());\r\n}\r\n\r\nSaveUser() {\r\nconst body={userFirstName:document.getElementById('ufname').value,userLastName:document.getElementById('ulname').value,\r\n      userEMail:document.getElementById('uemail').value,\r\n      userIsAdmin:(document.getElementById('uadmin').checked?\"Y\":\"N\"),\r\n      userPassword:(document.getElementById('upw').value),\r\n      userIsActive:(document.getElementById('uactive').checked?\"Y\":\"N\")};\r\nconst adding=(this.state.userresp.userID===0);\r\nconst options=apiFetchOptions(adding?'POST':'PATCH',body,this.state.token);\r\nconst url=apiBaseURL+'/users'+(adding?'':'/'+this.state.userresp.userID);\r\nfetch(url,options).then(r => r.json()).then(us => this.setState({userresp:us},() => alert('User updated')))\r\n  .catch(err => alert('Unable to save User'));\r\n}\r\n\r\nNeedLogon() {return <Link to='/logon'><button className='action'>Log On</button></Link>}\r\nNotAdmin() {return 'Access denied'}\r\nNotSelf() {return 'Can not edit self'}\r\nNoUser() {return 'No user selected'}\r\n\r\nEditUser() {\r\n  const isactive=(this.state.userresp.userIsActive==='Y');\r\n  const isadmin=(this.state.userresp.userIsAdmin==='Y');\r\n  return (\r\n  <React.Fragment>\r\n    User EMail: <input id='uemail' type='text' style={{width:\"300px\"}} maxLength='64' defaultValue={this.state.userresp.userEMail} /><br />\r\n    First Name: <input id='ufname' type='text' style={{width:\"300px\"}} maxLength='64' defaultValue={this.state.userresp.userFirstName} /><br />\r\n    Last Name: <input id='ulname' type='text' style={{width:\"300px\"}} maxLength='64' defaultValue={this.state.userresp.userLastName} /><br />\r\n    Password: <input id='upw' type='password' style={{width:\"300px\"}} maxLength='64' /><br />\r\n    Admin: <input id='uadmin' type='checkbox' defaultChecked={isadmin} /><br />\r\n    Active: <input id='uactive' type='checkbox' defaultChecked={isactive} /><br />\r\n    <button className='Action' onClick={(e) => this.SaveUser()}>Save</button>\r\n  </React.Fragment>\r\n  )\r\n}\r\n\r\nrender() {\r\n  const haveuser=(this.state.token!=null);\r\n  const haveuserrec=(this.state.userresp!=null);\r\n  const isadmin=(this.context.user!==undefined && this.context.user.userIsAdmin==='Y');\r\n  const isself=(this.state.userresp!=null && this.state.userresp.userID===this.context.user.userID);\r\n  return (\r\n    <div className=\"MainBody\">\r\n      {(haveuser===false)?this.NeedLogon():\r\n        (isadmin===false)?this.NotAdmin():\r\n          (haveuserrec===false)?this.NoUser():\r\n            (isself)?this.NotSelf():\r\n              this.EditUser()\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\n}","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Provider} from './context';\nimport Header from './Header';\nimport Navbar from './Navbar';\nimport Footer from './Footer';\nimport Welcome from './Welcome';\nimport {Logon,Logoff} from './Logon';\nimport Products from './Products';\nimport EditProduct from './EditProduct';\nimport Cart from './Cart';\nimport NewOrder from './NewOrder';\nimport SubmitOrder from './SubmitOrder';\nimport Orders from './Orders';\nimport Categories from './Categories';\nimport EditCategory from './EditCategory';\nimport Users from './Users';\nimport EditUser from './EditUser';\n\nclass App extends Component {\n\n  render() {\n    return (\n      <Provider>\n        <Header />\n        <Navbar />\n        <div id='BodyBlock'>\n          <Router>\n            <Switch>\n              <Route path=\"/\" exact render={(props) => (<Welcome {...props} />)} />\n              <Route path=\"/logon\" exact render={(props) => (<Logon {...props} />)} />\n              <Route path=\"/logoff\" exact render={(props) => (<Logoff {...props} />)} />\n              <Route path=\"/products\" exact render={(props) => (<Products {...props} />)} />\n              <Route path=\"/cart\" exact render={(props) => (<Cart {...props} />)} />\n              <Route path=\"/neworder\" exact render={(props) => (<NewOrder {...props} />)} />\n              <Route path=\"/submitorder\" exact render={(props) => (<SubmitOrder {...props} />)} />\n              <Route path=\"/orders\" exact render={(props) => (<Orders {...props} />)} />\n              <Route path=\"/editproduct\" exact render={(props) => (<EditProduct {...props} />)} />\n              <Route path=\"/categories\" exact render={(props) => (<Categories {...props} />)} />\n              <Route path=\"/editcategory\" exact render={(props) => (<EditCategory {...props} />)} />\n              <Route path=\"/users\" exact render={(props) => (<Users {...props} />)} />\n              <Route path=\"/edituser\" exact render={(props) => (<EditUser {...props} />)} />\n            </Switch>\n          </Router>\n        </div>\n        <Footer />\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/stylesheet.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}